---
title: "Лабораторна робота №2"
author: "Конько Ярослав, КН-24-1"
output: html_notebook
frontsize: 15pt
editor_options: 
  chunk_output_type: inline
---

## Тема

Створення проєкту зі статистичної обробки даних у стилі literate programming

## Мета роботи

Швидкий старт для роботи в середовищі RStudio із застосуванням концепції «грамотного програмування» засобами мови програмування R, пакету RMarkdown та системи комп’ютерної верстки Latex.

## Хід роботи

### Крок 1. Записуємо код на R засобами базової графіки у відповідній зоні, яка називається чанком

```{r}
b0 <- 2
b1 <- 3
b2 <- 1.57

x <- seq(-1, 1, .1)
y <- b0 + b1 * x + b2 * x^2

plot(x, y,
     type = "l",
     col = "red",
     main = "Графік функції",
     xlab = "x",
     ylab = "y"
     )

points(x,y,
       col = "blue")
```

### Крок 2. Створюємо таблицю даних

```{r}
df <- data.frame(x = x, y = y)
```

### Крок 3. Демоструємо можливості пакету rio

```{r}
library(rio) 
export(df, "data/data.csv")


DT::datatable(df)
```

### Крок 4. Виконуємо імпорт даних із файлу і візуалізацію у вигляді таблиці

```{r}
dfNew <- import("data/data.csv")

knitr::kable(head(dfNew),
             caption = "_Табл. 1. Фрагмент таблиці даних_")
```

### Крок 5. Оптимізуємо код за допомогою потокового оператора %\>% засобами пакету ggplot2

```{r}
library(dplyr)

# Використання pipe оператора
df_enhanced <- df %>%
  mutate(y_squared = y^2,
         category = ifelse(y > mean(y), "Вище середнього", "Нижче середнього"))

# Покращений графік
p2 <- df_enhanced %>%
  ggplot(aes(x = x, y = y, color = category)) +
  geom_line(size = 1) +
  geom_point(size = 2) +
  geom_smooth(method = "lm", se = FALSE, linetype = "dashed", color = "black") +
  scale_color_manual(values = c("Вище середнього" = "red", "Нижче середнього" = "blue")) +
  labs(title = "Покращений графік з категоріями",
       x = "x",
       y = "y(x)",
       color = "Категорія") +
  theme_bw() +
  theme(legend.position = "bottom")

p2
```

### Крок 6. Будуємо графік функції засобами пакету ggplot2

```{r}
library(ggplot2)

# Простий графік
p1 <- ggplot(df, aes(x = x, y = y)) +
  geom_line(color = "red", size = 1) +
  geom_point(color = "blue", size = 2) +
  labs(title = "Графік квадратичної функції",
       subtitle = "Виконано за допомогою ggplot2",
       x = "x",
       y = "y(x)") +
  theme_minimal() +
  theme(plot.title = element_text(hjust = 0.5),
        plot.subtitle = element_text(hjust = 0.5))

p1
```

## Контрольні питання

### 1. Напишіть код на LaTeX для формули щільності нормального розподілу.

$$f(x) = \frac{1}{\sigma\sqrt{2\pi}} e^{-\frac{(x - \mu)^2}{2\sigma^2}}$$\

### 2. Як розв’язати таблиці і графіки в електронний документ з використанням R Markdown і пакету rmarkdown з оглядом на читабельність та грамотність коду?

Для таблиці треба використовувати: knitr::kable(), DT::datatable() або xtable.

Для графіків треба використовувати базоу графіку R фбо ggplot2.

### 3. Як вирішити завдання зі вставленням та форматуванням зображень в електронному документі з використанням R, забезпечуючи читабельність та елегантність коду?

Для вставки та форматувань зображень використовують: knitr::include_graphics("шлях/до/зображення.png")

### 4. Яку функцію виконує YAML-заголовок у динамічному документі?

Визначає метадані документа: заголовок, автора, дату, формат виводу (HTML/PDF), параметри форматування, бібліографію тощо.

## Висновки
У ході виконання лабораторної роботи було освоєно концепцію грамотного програмування та набуто практичних навичок створення динамічних документів засобами RMarkdown/Quarto, що поєднують код мовою R, текст, математичні формули (LaTeX), таблиці, графіки та результати аналізу в єдиному відтворюваному документі, автоматизуючи процес формування звіту та забезпечуючи його стандартизацію через налаштування YAML-заголовка.
